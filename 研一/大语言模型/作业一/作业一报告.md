# 作业一报告

## 提示词

### 基础Prompt

上传的文件是一篇硕士论文，请为其生成论文摘要。

### 优化后Prompt

生成一个约1000字的摘要，主题为“面向浮点程序误差检测的用例生成系统”。摘要应包括以下内容： 

背景：简要介绍浮点程序误差检测的重要性，特别是在数值计算中的应用。介绍系统开发的企业背景和相关需求。 

问题描述：讨论现有系统的不足之处，以及针对不足之处需要做出的改进 

系统改进：描述你开发的系统在解决上述问题方面的创新，特别是如何利用神经网络模型提高用例生成的灵活性和效率，系统的主要改进分点来阐述。 

系统模块：简要介绍系统中开发的各个模块，并解释模块的作用。

结果：介绍评估系统的数据和结果以及在企业的应用 

关键词：包括“误差检测”，“浮点误差累积”，“数值用例”，“神经网络模型”。 

请根据这个提示词生成摘要，确保语言符合软件开发专业硕士研究生的语气

## 大模型输出

### Kimi

#### 基础

本论文研究了面向浮点程序误差检测的用例生成系统。随着计算机技术的发展，浮点程序在关键领域中的重要性日益增加，因此确保其计算结果的准确性变得至关重要。论文指出，现有技术在生成有效用例方面存在效率低下和适应性不足的问题。为此，作者设计并实现了一个系统，该系统基于LLVM编译器生成中间代码，并通过神经网络模型提高有效用例的生成效率。

系统分为五个模块：程序预处理、中间代码转换、训练数据集生成、神经网络模型训练和数值用例生成。预处理模块利用LLVM生成中间代码，中间代码转换模块将其转换为二进制码。训练数据集生成模块结合Herbie工具和iRRAM技术生成训练数据，神经网络模型训练模块负责训练模型，最后数值用例生成模块输出用于误差检测的数值用例。

实验评估表明，该系统能够针对浮点程序全局生成用例，有效用例约占总数的74.42%，平均耗时约2.58秒。此外，系统还通过了功能性和非功能性测试，验证了其正确性和性能。论文最后提出了未来改进方向，包括采用最新深度学习模型算法和对系统进行高性能分解。

关键词：浮点程序误差检测，用例生成系统，LLVM编译器，神经网络模型，有效用例生成效率。

#### 优化后

**摘要**

在高精度数值计算领域，浮点程序扮演着至关重要的角色。然而，由于浮点数的表示和运算限制，计算误差的累积可能导致严重后果，特别是在关键领域如航空航天、国防军事、高铁、汽车、能源和通信等。因此，浮点程序的误差检测技术对于确保软件的可靠性和安全性至关重要。华为公司，作为全球领先的通信技术公司，在工业软件的开发中面临着浮点计算误差累积的问题，迫切需要一种有效的自动化误差检测技术来提高软件的可靠性。

**问题描述：** 现有的用例生成系统主要存在两个问题：一是这些系统通常只能针对单一浮点表达式生成局部用例，缺乏对浮点程序全局计算逻辑的考虑；二是有效用例的生成效率低下，因为它们通常分散在小区间内，现有系统难以高效地定位这些区间。为了克服这些限制，我们设计并实现了一种新的用例生成系统，该系统能够针对浮点程序全局进行误差检测，并显著提高了有效用例的生成效率。

**系统改进：** 新系统的核心改进包括：

1. **全局误差检测：** 系统通过LLVM编译器框架生成浮点程序的中间代码，利用自主设计的转换规则将中间代码转换为二进制码，从而实现对浮点程序全局的用例生成。
2. **神经网络模型：** 引入了基于神经网络的数值区间预测技术，使用浮点程序的二进制码和触发误差累积的有效数值用例作为训练数据，训练神经网络模型学习用例生成规则，提高了生成有效用例的概率。
3. **系统模块化：** 系统分为五个模块：程序预处理、中间代码转换、训练数据集生成、神经网络训练和数值用例生成，每个模块负责不同的功能，确保了系统的灵活性和可扩展性。

**系统模块：**

1. **程序预处理模块：** 负责对浮点程序源代码进行词法和语法分析，生成中间代码IR。
2. **中间代码转换模块：** 将预处理生成的中间代码IR转换为神经网络模型可用的二进制码。
3. **训练数据集生成模块：** 利用Herbie工具和iRRAM技术生成训练数据，并对数值用例进行验证。
4. **神经网络训练模块：** 构建并训练神经网络模型，使用训练数据集进行迭代训练，并评估和调整模型参数。
5. **数值用例生成模块：** 结合预处理和转换模块的结果，以及训练好的神经网络模型，生成用于浮点程序误差检测的数值用例。

**结果：** 我们对系统进行了全面的评估，包括功能性测试和非功能性测试。实验结果表明，本系统能够针对浮点程序全局进行用例生成，有效用例约占总数的74.42%，且生成用例的平均耗时约为2.58秒，满足工业软件的用例生成要求。此外，系统已经在华为内部上线，通过实际应用进一步验证了系统的实用性和有效性。

**关键词：** 误差检测、浮点误差累积、数值用例、神经网络模型。

综上所述，本系统通过利用神经网络模型提高了用例生成的灵活性和效率，解决了现有系统的不足，为浮点程序误差检测提供了一种有效的解决方案。未来的工作将集中在采用更先进的深度学习算法和系统性能优化上，以进一步提高系统的准确性和效率。

### 文心一言

#### 基础

这份文件是一篇研究生毕业论文，主要设计并实现了一个面向浮点程序误差检测的用例生成系统。以下是该论文的摘要：

1. 研究背景与意义：
   - 浮点程序广泛应用于航空航天、国防军事及高铁、汽车等关键领域，其计算结果的准确性至关重要。然而，由于IEEE 754标准下浮点数的舍入误差，导致程序运行中的误差累积，可能引发严重后果。因此，保障浮点计算的准确性成为重要研究方向。
   - 华为公司已采用自动化误差检测技术，通过数值用例触发误差累积，并结合扰动技术检测程序中的数值缺陷。但现有数值用例生成系统存在适应性不足和有效用例生成效率低的问题。
2. 现有技术的不足：
   - 适应性不足：现有系统主要基于局部浮点表达式的误差分析，难以生成适应全局浮点程序的用例。
   - 有效用例生成效率低：有效数值用例通常分散在小范围内，现有系统需生成大量用例才能命中这些区间。
3. 研究目标与贡献：
   - 设计并实现了一个面向全局浮点程序误差检测的用例生成系统，该系统基于LLVM编译器和神经网络模型，通过符号执行技术和深度学习方法提高用例生成的适应性和效率。
   - 系统包括五个模块：程序预处理模块、中间代码转换模块、训练数据集生成模块、神经网络训练模块和数值用例生成模块。通过自主设计的中间代码转二进制码规则，以及卷积神经网络模型预测有效数值区间，提高了用例生成的准确性和效率。
4. 技术实现：
   - **程序预处理模块**：基于LLVM编译器生成中间代码，并进行词法分析和语法分析。
   - **中间代码转换模块**：设计中间代码到二进制码的转换规则，减少无用信息，提高训练数据质量。
   - **训练数据集生成模块**：使用Herbie工具生成数值用例，并通过iRRAM包验证，生成训练数据集。
   - **神经网络训练模块**：搭建卷积神经网络模型，利用训练数据进行迭代训练，优化模型参数。
   - **数值用例生成模块**：将浮点程序的二进制码输入训练好的神经网络模型，生成有效数值用例。
5. 实验评估与结果：
   - 在一系列浮点程序上进行了实验，共生成16800个数值用例，有效用例占比约74.42%，平均耗时约2.58秒，验证了系统的有效性和高效性。
   - 功能性测试和非功能性测试结果表明，系统各模块功能正确，且系统易用性和性能均满足工业软件要求。
6. 总结与展望：
   - 系统已成功应用于华为内部，提高了浮点程序误差检测的效率。未来工作包括采用更先进的深度学习模型和改进系统性能。

本论文通过设计并实现面向全局浮点程序误差检测的用例生成系统，有效解决了现有系统的适应性不足和有效用例生成效率低的问题，为浮点程序的准确性保障提供了有力支持。

#### 优化后

**面向浮点程序误差检测的用例生成系统摘要**

**背景**

在数值计算领域，浮点程序因其高效性和广泛适用性而被普遍采用。然而，浮点运算的固有特性——舍入误差，却成为了一个不容忽视的问题。特别是在航空航天、国防军事、高铁、汽车等关键领域，浮点误差的累积可能导致严重的后果，因此，对浮点程序进行误差检测显得尤为重要。本系统是在某知名企业（如华为）的背景下开发的，该企业对于提高软件质量和可靠性有着迫切的需求，特别是针对浮点程序误差检测的高效性和准确性提出了更高要求。

**问题描述**

当前，虽然已有一些浮点程序误差检测系统存在，但它们大多存在适应性不足和有效用例生成效率低的问题。具体来说，这些系统往往只能针对单一的浮点表达式进行误差分析，而难以从全局角度考虑浮点程序的整体误差累积情况。此外，由于有效触发误差累积的数值用例通常分布在小范围的输入区间内，现有系统需要生成大量的随机用例才能命中这些区间，导致检测效率低下。

**系统改进**

针对现有系统的不足，本文开发了一个面向浮点程序误差检测的用例生成系统，并在以下几个方面进行了创新：

1. **全局误差检测**：系统通过集成LLVM编译器和符号执行技术，实现了对浮点程序的全局分析。通过跟踪浮点数的传播和计算过程，系统能够更准确地检测误差的累积情况。
2. **神经网络模型应用**：为了提高用例生成的灵活性和效率，系统引入了神经网络模型。通过训练模型学习有效数值用例的生成规则，系统能够更智能地生成触发误差累积的用例，从而提高了检测的准确性和效率。
3. **模块化设计**：系统采用了模块化设计，包括程序预处理模块、中间代码转换模块、训练数据集生成模块、神经网络模型训练模块和数值用例生成模块。每个模块都承担特定的任务，共同协作完成浮点程序误差检测的全过程。

**系统模块**

- **程序预处理模块**：负责将浮点程序代码转换为中间代码，为后续分析提供基础。
- **中间代码转换模块**：将中间代码转换为可用于神经网络训练的二进制码，降低数据处理的复杂性。
- **训练数据集生成模块**：利用现有工具生成数值用例，并通过验证生成训练数据集，为神经网络模型提供训练样本。
- **神经网络模型训练模块**：通过迭代训练深度学习模型，优化模型参数，提高用例生成的准确性。
- **数值用例生成模块**：利用训练好的神经网络模型生成面向浮点程序全局的误差检测用例，为误差检测提供有效输入。

**结果**

为了评估系统的性能，我们进行了一系列的实验。实验结果表明，系统生成的有效用例占比高达XX%，且平均耗时仅为XX秒。这些数据充分证明了系统在提高浮点程序误差检测效率和准确性方面的显著优势。目前，该系统已在企业内部得到成功应用，为企业的软件质量控制和可靠性提升提供了有力支持。

**关键词**：误差检测；浮点误差累积；数值用例；神经网络模型

### GPT-4o mini

#### 基础

**摘要**

随着计算机科学技术的不断发展，浮点计算在航空航天、国防军事以及高铁、汽车、能源、通信等关键领域中的应用日益广泛。然而，浮点计算不可避免地引入舍入误差，历史上多次出现因浮点误差导致的重大事故，强调了确保浮点程序计算结果准确性的重要性。现有的浮点程序误差检测技术主要依赖于局部表达式的用例生成，未能有效适应全局需求，导致有效用例生成效率低下。

本文针对这一问题，设计并实现了一种面向浮点程序误差检测的用例生成系统。该系统基于LLVM编译器处理任意C++浮点程序，生成中间代码，并通过自主设计的转换规则与神经网络模型生成有效数值用例，从而提高生成效率。系统由程序预处理模块、中间代码转换模块、训练数据集生成模块、神经网络训练模块以及数值用例生成模块五个部分组成，全面支持浮点计算的误差检测。

在实验评估中，系统针对一系列浮点软件生成了16800个数值用例，实验结果表明有效用例占比达到74.42%，并且生成用例的平均耗时为2.58秒，符合工业软件的用例生成要求。实验结果验证了系统的有效性和高效性，展示了其在实际应用中的潜力。

本研究的贡献在于提出了一种针对浮点程序全局误差检测的新方法，为后续研究与实践打下了基础，并为浮点计算程序的可靠性保障提供了切实可行的解决方案。未来的研究可以进一步探索新型深度学习模型算法，以提升模型的预测效果和系统的适用性。

#### 优化后

**摘要**

浮点程序在数值计算领域的广泛应用，使得浮点误差检测的重要性愈加凸显。例如，在航空航天、国防军事、高铁建设、汽车工业、能源管理和通信领域，浮点计算常常是关键组件，输送着至关重要的信息。然而，由于浮点数计算的复杂性，舍入误差等问题经常导致计算结果的不准确，这不仅影响了工程的可靠性，也有可能造成安全隐患。因此，保障浮点程序计算结果的准确性，成为了软件工程中亟待解决的关键问题。

在企业背景方面，多年来华为公司致力于高可靠性软件的研发，响应国家对软件产业的支持和期望，尤其在工业软件领域，对浮点程序准确性的需求不断增长。然而，现有的浮点程序误差检测系统存在诸多不足，主要集中在用例生成的有效性和灵活性方面。这些传统方法通常只面向单一表达式生成用例，不能有效地结合程序前后的浮点运算特征，因此导致生成的有效数值用例不足，影响了检测的全面性和准确性。

针对此问题，本文提出并开发了一种面向浮点程序误差检测的用例生成系统。该系统创新性地采用了深度学习中的神经网络模型，以提高用例生成的灵活性和效率。我们通过以下几个方面实现了系统的主要改进：

1. **全局分析能力**：相比于以往仅关注局部表达式的生成方法，本系统通过LLVM编译器将任意浮点程序转换为中间代码，进而实现全局误差检测的用例生成，确保覆盖更广泛的数值区间。
2. **智能化的用例生成**：系统集成了神经网络模型，通过对有效数值用例与程序二进制码的映射关系进行学习，自动生成区间落在有效范围的数值用例，从而提高了生成的有效性和准确率。
3. **高效的算法设计**：我们设计了新的转换规则，对中间代码进行处理，具体的算法根据操作数和操作符的特性进行优化，从而生成可用于神经网络训练的二进制码，并减少冗余信息。

系统由五个模块构成，包括程序预处理模块、中间代码转换模块、训练数据集生成模块、神经网络训练模块以及数值用例生成模块。程序预处理模块负责对浮点程序的词法和语法分析，生成中间代码；中间代码转换模块则将中间代码转换为二进制码，同时存储到数据库中；训练数据集生成模块通过Herbie工具生成有效数值用例，并与二进制码一并存储；神经网络训练模块则根据训练数据不断迭代，以提升模型的预测能力；最后，数值用例生成模块结合上述结果，输出生成的有效数值用例。

在评估系统的整体性能方面，我们针对一系列浮点软件进行了测试，生成了16800个数值用例。评估结果显示，其中约74.42%的用例有效，且生成的平均耗时约为2.58秒。这些结果充分验证了本系统的有效性和高效性，并已在华为内部用于多个高可靠性软件项目中，为企业的浮点计算程序提供了重要的保障。

通过以上研究和系统的开发，本文为浮点程序的误差检测提供了有效的解决方案，展示了神经网络在用例生成中的潜力，期望为后续研究提供参考。

**关键词**：误差检测，浮点误差累积，数值用例，神经网络模型。

## 优化效果分析

优化后的提示词让生成的内容更符合用户的预期，强化了论文中的要点的表达，也给出了更清晰的文章结构。首先，经过优化的提示结构更加清晰，按背景、问题描述、系统改进、系统模块和结果的顺序展开，使得信息的逻辑性和条理性得到了增强。其次，内容的深度得到了提升，特别是在系统改进部分，明确了神经网络模型的应用及其对用例生成效率的提升，增强了技术细节的呈现。优化后的结果更准确表达了论文的背景以及贡献，表述更加完整。

### Kimi

**基础输出**：简要介绍了论文的研究内容和系统结构，但内容较为笼统，缺乏具体细节。

**优化后输出**：详细阐述了背景、问题描述、系统改进、系统模块、结果和关键词。系统改进部分详细描述了如何利用神经网络模型提高用例生成的灵活性和效率，并分点进行了详细说明。同时，提供了具体的评估数据和应用案例，内容丰富，结构清晰。

### 文心一言

**基础输出**：概述了论文的研究背景、意义、现有技术不足、研究目标与贡献、技术实现、实验评估与结果以及总结与展望。内容全面，但部分细节不够深入。

**优化后输出**：在基础输出的基础上，进一步细化了系统改进部分，特别是神经网络模型的应用和模块化设计的阐述。同时，增加了对浮点程序误差检测重要性的讨论和企业背景的介绍，使得摘要内容更加丰富和完整。

### GPT-4o mini

**基础输出**：提供了论文的摘要，内容涵盖了研究背景、系统概述、实验评估和结果。但相比其他模型，对系统改进和模块化的描述较为简略。

**优化后输出**：在优化后，GPT-4o mini的摘要在结构清晰度和内容深度上有了显著提升。特别是系统改进部分，详细阐述了全局分析能力、智能化的用例生成和高效的算法设计，突出了系统的创新点。同时，提供了具体的评估数据和结果，以及系统在企业中的应用情况，增强了摘要的实用性和说服力。

## 大模型对比分析

GPT-4o mini和文心一言在优化后表现出更高的内容深度，特别是在系统改进和神经网络模型应用的阐述上更为详细。Kimi则在结构清晰度和模块介绍方面表现出色。在使用体验中，Kimi存在论文处理的规范性，并且会引导用户提问；文心一言对中文语料有更好的理解能力和表达能力，有一定的联网搜索学习的能力；GPT-4o mini在逻辑性和条理性上略胜一筹。

## 反思与理解

提示词的好坏在生成高质量内容中有着重要作用，一个清晰、具体且有针对性的提示词能够极大地引导模型生成符合预期的结果。同时，不同模型在处理相同提示词时存在响应差异，在选择模型时需要根据实际需求和场景进行综合考虑。此外，提示词优化过程中需要不断试错和调整，通过多次迭代才能找到最佳的表述方式。需要根据需求对结果有一个大致的预期，再逐步引导大模型去生成想要的结果。